<net.rptools.maptool.model.MacroButtonProperties>
  <macroUUID>c0c5f592-189f-40bc-8411-ae8a2b3c03d8</macroUUID>
  <saveLocation>CampaignPanel</saveLocation>
  <index>1</index>
  <colorKey>orange</colorKey>
  <hotKey>None</hotKey>
  <command>[h: charId = getProperty ("Character ID")]
&lt;!-- This script must deal with the raw Basic Toon, avoid dndb_getBasicToon --&gt;
[h: basicToon = getProperty ("dndb_BasicToon")]

[h, if (charId == "" || encode (basicToon) == ""), code: {
	[h: message = "Token needs to be initialized with DNDBeyond first"]
	[h: abort( input( " junkVar | | " + message + " | LABEL | TEXT=false"))]
	[h: return (0, message)]
}]

[h: toon = dndb_getCharJSON (charId)]

&lt;!--HP --&gt;
[h: hitPoints = dndb_getHitPoints (toon)]

&lt;!-- Speed --&gt;
[h: speeds = dndb_getSpeed (toon)]

&lt;!-- AC --&gt;
[h: ac = dndb_getAC (toon)]

&lt;!-- Conditions --&gt;
[h: conditions = dndb_getConditions (toon)]

[h: basicToon = json.set (basicToon, 
				"speeds", speeds,
				"hitPoints", hitPoints,
				"armorClass", ac,
				"conditions", conditions)]

[h: setProperty ("dndb_BasicToon", basicToon)]
[h, macro ("Reset Properties@this"): 1]
[r,s: json.get (basicToon, "name") + " has been updated!"]</command>
  <label>Quick Update</label>
  <group>DNDBeyond</group>
  <sortby/>
  <autoExecute>true</autoExecute>
  <includeLabel>false</includeLabel>
  <applyToTokens>true</applyToTokens>
  <fontColorKey>black</fontColorKey>
  <fontSize>1.05em</fontSize>
  <minWidth/>
  <maxWidth/>
  <allowPlayerEdits>false</allowPlayerEdits>
  <toolTip>Refreshes AC, Hitpoints, and Speed</toolTip>
  <displayHotKey>true</displayHotKey>
  <commonMacro>false</commonMacro>
  <compareGroup>true</compareGroup>
  <compareSortPrefix>true</compareSortPrefix>
  <compareCommand>true</compareCommand>
  <compareIncludeLabel>true</compareIncludeLabel>
  <compareAutoExecute>true</compareAutoExecute>
  <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
</net.rptools.maptool.model.MacroButtonProperties>
