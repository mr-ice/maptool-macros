<net.rptools.maptool.model.MacroButtonProperties>
  <macroUUID>437364aa-8c40-41b7-a850-93f13a7dc597</macroUUID>
  <saveLocation>Token</saveLocation>
  <index>30</index>
  <colorKey>default</colorKey>
  <hotKey>None</hotKey>
  <command>&lt;!-- get toon and maybe a weapon name --&gt;
[h: toon = arg(0)]
[h, if (json.length (macro.args) &gt; 1):
				weapons = dndb_getInventory (toon, "Weapon", arg(1)); 
				weapons = dndb_getInventory (toon, "Weapon")]

[h: weapons = dndb_convertWeapons (toon, weapons)]

[h: macro.return = weapons]</command>
  <label>dndb_getWeapon</label>
  <group>Character</group>
  <sortby/>
  <autoExecute>true</autoExecute>
  <includeLabel>false</includeLabel>
  <applyToTokens>false</applyToTokens>
  <fontColorKey>black</fontColorKey>
  <fontSize>1.00em</fontSize>
  <minWidth/>
  <maxWidth/>
  <allowPlayerEdits>false</allowPlayerEdits>
  <toolTip>Returns the requested weapon, or all wepons if none specified.

arg(0) = toon
optional: arg (1) = weapon name

Returns weapons in simplified format:
ex.
{
  "name": "Scimitar of Speed",
  "attackType": "Melee",
  "dmgDie": 6,
  "dmgDice": 1,
  "dmgType": "Slashing, magic",
  "bonus": 2,
  "range": 5,
  "longRange": 5,
  "type": "Scimitar",
  "properties":   [
        {
      "description": "When making an attack with a finesse weapon, you use your choice of your Strength or Dexterity modifier for the attack and damage rolls. You must use the same modifier for both rolls. ",
      "id": 2,
      "name": "Finesse"
    },
        {
      "description": "A light weapon is small and easy to handle, making it ideal for use when fighting with two weapons. ",
      "id": 4,
      "name": "Light"
    }
  ],
  "proficient": 2,
  "isMonk": "false"
}</toolTip>
  <displayHotKey>true</displayHotKey>
  <commonMacro>false</commonMacro>
  <compareGroup>true</compareGroup>
  <compareSortPrefix>true</compareSortPrefix>
  <compareCommand>true</compareCommand>
  <compareIncludeLabel>true</compareIncludeLabel>
  <compareAutoExecute>true</compareAutoExecute>
  <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
</net.rptools.maptool.model.MacroButtonProperties>
